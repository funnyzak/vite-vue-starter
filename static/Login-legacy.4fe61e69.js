System.register(["./main-legacy.91ad82a3.js","./_plugin-vue_export-helper-legacy.2447a36e.js"],(function(e){"use strict";var s,t,r,i,n,a,o,u,c,l,m,d,p,h,g,v;return{setters:[e=>{s=e.l,t=e.m,r=e.k,i=e.n,n=e.d,a=e.o,o=e.u},e=>{u=e.y,c=e.a,l=e.w,m=e.o,d=e.B,p=e.E,h=e.G,g=e.u,v=e.H}],execute:function(){const{wsCache:f}=s(),k=t({id:"user",state:()=>({permissions:[],roles:[],user:{id:0,avatar:"",nickname:""}}),persist:{enabled:!0},getters:{getUserInfo(){return this}},actions:{setUserInfo(e){this.resetState(),this.permissions=e.permissions,this.roles=e.roles,this.user=e.user,f.set("user",e)},resetState(){this.permissions=[],this.roles=[],this.user={id:0,avatar:"",nickname:""}}}}),y={class:"text-center mt-30"},T=v(" 你还没有登陆哦，现在 "),I=v("？ ");e("default",u({__name:"Login",setup(e){const{t:s}=n(),t=r(),u=k(),v=i(),f=c(""),{currentRoute:w,addRoute:x,push:R}=o(),_={id:1,accessToken:"accessToken7",refreshToken:"refreshToken7",userId:1,userType:1,clientId:"7",expiresTime:(new Date).getTime()+3600},b={user:{id:1,nickname:"leon"},permissions:["user.message"],roles:[]},S=async()=>{u.setUserInfo(b),a(_),await v.generateRoutes(b.permissions),v.getAddRouters.forEach((e=>{x(e)})),R({path:"/user/message"})};return l((()=>w.value),(e=>{var s;f.value=null==e||null===(s=e.query)||void 0===s?void 0:s.redirect}),{immediate:!0}),(e,r)=>(m(),d("div",y,[p("div",null,h(g(t).getAppName),1),T,p("button",{class:"btn",onClick:S},h(g(s)("common.login")),1),I]))}}))}}}));
