System.register(["./main-legacy.751dc629.js","./_plugin-vue_export-helper-legacy.2447a36e.js"],(function(e){"use strict";var s,t,r,n,i,o,a,u,c,l,m,d,p,h,g,k;return{setters:[e=>{s=e.l,t=e.m,r=e.e,n=e.n,i=e.f,o=e.o,a=e.u},e=>{u=e.y,c=e.a,l=e.w,m=e.o,d=e.B,p=e.E,h=e.G,g=e.u,k=e.H}],execute:function(){const{wsCache:v}=s(),f=t({id:"user",state:()=>({permissions:[],roles:[],user:{id:0,avatar:"",nickname:""}}),persist:{enabled:!0},getters:{getUserInfo(){return this}},actions:{setUserInfo(e){this.resetState(),this.permissions=e.permissions,this.roles=e.roles,this.user=e.user,v.set("user",e)},resetState(){this.permissions=[],this.roles=[],this.user={id:0,avatar:"",nickname:""}}}}),b={class:"text-center mt-30"},y=k(" 你还没有登陆哦，现在 "),T=k("？ ");e("default",u({__name:"Login",setup(e){const{t:s}=i(),t=r(),u=f(),k=n(),v=c(""),{currentRoute:I,addRoute:R,push:w,back:x}=a(),U={id:1,accessToken:"accessToken7",refreshToken:"refreshToken7",userId:1,userType:1,clientId:"7",expiresTime:(new Date).getTime()+3600},_={user:{id:1,nickname:"leon"},permissions:["user.home"],roles:[]},A=async()=>{u.setUserInfo(_),o(U),await k.generateRoutes(_.permissions),k.getAddRouters.forEach((e=>{R(e)})),k.setIsAddRouters(!0),w({name:"UserMessage"})};return l((()=>I.value),(e=>{var s;v.value=null==e||null===(s=e.query)||void 0===s?void 0:s.redirect}),{immediate:!0}),(e,r)=>(m(),d("div",b,[p("div",null,h(g(t).getAppName),1),y,p("button",{class:"btn",onClick:A},h(g(s)("common.login")),1),T,p("button",{class:"btn",onClick:r[0]||(r[0]=(...e)=>g(x)&&g(x)(...e))},h(g(s)("common.back")),1)]))}}))}}}));
