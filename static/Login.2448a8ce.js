var k=(s,c,t)=>new Promise((m,o)=>{var d=e=>{try{a(t.next(e))}catch(r){o(r)}},p=e=>{try{a(t.throw(e))}catch(r){o(r)}},a=e=>e.done?m(e.value):Promise.resolve(e.value).then(d,p);a((t=t.apply(s,c)).next())});import{z as T,a as b,w,o as C,D as F,H as l,I as h,u,J as f,_ as x}from"./_plugin-vue_export-helper.850f2025.js";import{l as I,m as R,e as A,n as B,u as L,f as U,o as y}from"./main.339c1d99.js";const{wsCache:D}=I(),E=R({id:"user",state:()=>({permissions:[],roles:[],user:{id:0,avatar:"",nickname:""}}),persist:{enabled:!0},getters:{getUserInfo(){return this}},actions:{setUserInfo(s){this.resetState(),this.permissions=s.permissions,this.roles=s.roles,this.user=s.user,D.set("user",s)},resetState(){this.permissions=[],this.roles=[],this.user={id:0,avatar:"",nickname:""}}}}),N={class:"text-center mt-30"},V=f(" \u4F60\u8FD8\u6CA1\u6709\u767B\u9646\u54E6\uFF0C\u73B0\u5728 "),q=f("\uFF1F "),z=T({__name:"Login",setup(s){const{t:c}=U(),t=A(),m=E(),o=B(),d=b(""),{currentRoute:p,addRoute:a,push:e,back:r}=L(),g={id:1,accessToken:"accessToken7",refreshToken:"refreshToken7",userId:1,userType:1,clientId:"7",expiresTime:new Date().getTime()+3600},_={user:{id:1,nickname:"leon"},permissions:["user.home"],roles:[]},v=()=>k(this,null,function*(){m.setUserInfo(_),y(g),yield o.generateRoutes(_.permissions),o.getAddRouters.forEach(n=>{a(n)}),o.setIsAddRouters(!0),e({name:"UserMessage"})});return w(()=>p.value,n=>{var i;d.value=(i=n==null?void 0:n.query)==null?void 0:i.redirect},{immediate:!0}),(n,i)=>(C(),F("div",N,[l("div",null,h(u(t).getAppName),1),V,l("button",{class:"btn",onClick:v},h(u(c)("common.login")),1),q,l("button",{class:"btn",onClick:i[0]||(i[0]=(...S)=>u(r)&&u(r)(...S))},h(u(c)("common.back")),1)]))}}),P=x(z,[["__file","/home/runner/work/vue-starter/vue-starter/src/views/Login/Login.vue"]]);export{P as default};
