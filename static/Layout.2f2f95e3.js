import{j as l,f as w,k as f,l as o,C as p,D as d,L as m,p as h,O as C,u as g,P as _,Q as v,_ as V,F as x}from"./_plugin-vue_export-helper.50b12a99.js";import{q as y,t as A,v as L}from"./main.171fd528.js";import{v as b}from"./variables.module.a965d773.js";const k=()=>{const e=b;return{variables:e,getPrefixCls:i=>`${e.namespace}-${i}`}},c=(e,t)=>{if(e.findIndex)return e.findIndex(t);let i=-1;return e.some((a,s,r)=>{const n=t(a,s,r);if(n)return i=s,n}),i},S=y({id:"cacheView",state:()=>({visitedViews:[],cachedViews:new Set}),getters:{getVisitedViews(){return this.visitedViews},getCachedViews(){return Array.from(this.cachedViews)}},actions:{addView(e){this.addVisitedView(e),this.addCachedView()},addVisitedView(e){var t;this.visitedViews.some(i=>i.path===e.path)||this.visitedViews.push(Object.assign({},e,{title:((t=e.meta)==null?void 0:t.title)||"no-name"}))},addCachedView(){var t;const e=new Set;for(const i of this.visitedViews){const a=A(i);if(!!((t=a.meta)!=null&&t.noCache))continue;const r=a.name;e.add(r)}Array.from(this.cachedViews).sort().toString()!==Array.from(e).sort().toString()&&(this.cachedViews=e)},delView(e){this.delVisitedView(e),this.addCachedView()},delVisitedView(e){for(const[t,i]of this.visitedViews.entries())if(i.path===e.path){this.visitedViews.splice(t,1);break}},delCachedView(){const e=L.currentRoute.value,t=c(this.getCachedViews,i=>i===e.name);t>-1&&this.cachedViews.delete(this.getCachedViews[t])},delAllViews(){this.delAllVisitedViews(),this.addCachedView()},delAllVisitedViews(){this.visitedViews=[]},delOthersViews(e){this.delOthersVisitedViews(e),this.addCachedView()},delOthersVisitedViews(e){this.visitedViews=this.visitedViews.filter(t=>{var i;return((i=t==null?void 0:t.meta)==null?void 0:i.affix)||t.path===e.path})},delLeftViews(e){const t=c(this.visitedViews,i=>i.path===e.path);t>-1&&(this.visitedViews=this.visitedViews.filter((i,a)=>{var s;return((s=i==null?void 0:i.meta)==null?void 0:s.affix)||i.path===e.path||a>t}),this.addCachedView())},delRightViews(e){const t=c(this.visitedViews,i=>i.path===e.path);t>-1&&(this.visitedViews=this.visitedViews.filter((i,a)=>{var s;return((s=i==null?void 0:i.meta)==null?void 0:s.affix)||i.path===e.path||a<t}),this.addCachedView())},updateVisitedView(e){for(let t of this.visitedViews)if(t.path===e.path){t=Object.assign(t,e);break}}}}),O=l({__name:"AppView",setup(e){const t=S(),i=w(()=>t.getCachedViews);return(a,s)=>{const r=f("router-view");return o(),p("section",{class:v(["w-[100%] h-[100%] bg-[var(--bg-color)]"])},[d(r,null,{default:m(({Component:n,route:u})=>[(o(),h(_,{include:g(i)},[(o(),h(C(n),{key:u.fullPath}))],1032,["include"]))]),_:1})],2)}}}),P=V(O,[["__file","/home/runner/work/vue-starter/vue-starter/src/layout/components/AppView.vue"]]),R=()=>({renderLayout:()=>d(x,null,[d(P,null,null)])}),{getPrefixCls:j}=k(),B=j("layout"),D=()=>{const{renderLayout:e}=R();return e()},I=l({name:"Layout",setup(){return()=>d("section",{class:[B,"w-[100%] h-[100%] relative"]},[D()])}}),z=V(I,[["__file","/home/runner/work/vue-starter/vue-starter/src/layout/Layout.vue"]]);export{z as default};
