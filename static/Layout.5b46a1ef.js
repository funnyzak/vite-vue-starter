import{m as w,q as u,r as f}from"./main.a64bc0d4.js";import{y as V,k as p,r as m,o,B as C,q as d,J as g,c as h,M as x,u as _,N as y,O as v,F as b}from"./_plugin-vue_export-helper.1c13e0b0.js";import{v as A}from"./variables.module.a965d773.js";const k=()=>{const e=A;return{variables:e,getPrefixCls:t=>`${e.namespace}-${t}`}},c=(e,i)=>{if(e.findIndex)return e.findIndex(i);let t=-1;return e.some((s,a,r)=>{const n=i(s,a,r);if(n)return t=a,n}),t},L=w({id:"tagsView",state:()=>({visitedViews:[],cachedViews:new Set}),getters:{getVisitedViews(){return this.visitedViews},getCachedViews(){return Array.from(this.cachedViews)}},actions:{addView(e){this.addVisitedView(e),this.addCachedView()},addVisitedView(e){var i,t;this.visitedViews.some(s=>s.path===e.path)||(i=e.meta)!=null&&i.noTagsView||this.visitedViews.push(Object.assign({},e,{title:((t=e.meta)==null?void 0:t.title)||"no-name"}))},addCachedView(){var i;const e=new Set;for(const t of this.visitedViews){const s=u(t);if(!!((i=s.meta)!=null&&i.noCache))continue;const r=s.name;e.add(r)}Array.from(this.cachedViews).sort().toString()!==Array.from(e).sort().toString()&&(this.cachedViews=e)},delView(e){this.delVisitedView(e),this.addCachedView()},delVisitedView(e){for(const[i,t]of this.visitedViews.entries())if(t.path===e.path){this.visitedViews.splice(i,1);break}},delCachedView(){const e=f.currentRoute.value,i=c(this.getCachedViews,t=>t===e.name);i>-1&&this.cachedViews.delete(this.getCachedViews[i])},delAllViews(){this.delAllVisitedViews(),this.addCachedView()},delAllVisitedViews(){this.visitedViews=[]},delOthersViews(e){this.delOthersVisitedViews(e),this.addCachedView()},delOthersVisitedViews(e){this.visitedViews=this.visitedViews.filter(i=>{var t;return((t=i==null?void 0:i.meta)==null?void 0:t.affix)||i.path===e.path})},delLeftViews(e){const i=c(this.visitedViews,t=>t.path===e.path);i>-1&&(this.visitedViews=this.visitedViews.filter((t,s)=>{var a;return((a=t==null?void 0:t.meta)==null?void 0:a.affix)||t.path===e.path||s>i}),this.addCachedView())},delRightViews(e){const i=c(this.visitedViews,t=>t.path===e.path);i>-1&&(this.visitedViews=this.visitedViews.filter((t,s)=>{var a;return((a=t==null?void 0:t.meta)==null?void 0:a.affix)||t.path===e.path||s<i}),this.addCachedView())},updateVisitedView(e){for(let i of this.visitedViews)if(i.path===e.path){i=Object.assign(i,e);break}}}}),S=V({__name:"AppView",setup(e){const i=L(),t=p(()=>i.getCachedViews);return(s,a)=>{const r=m("router-view");return o(),C("section",{class:v(["w-[100%] h-[100%] bg-[var(--bg-color)]"])},[d(r,null,{default:g(({Component:n,route:l})=>[(o(),h(y,{include:_(t)},[(o(),h(x(n),{key:l.fullPath}))],1032,["include"]))]),_:1})],2)}}}),O=()=>({renderLayout:()=>d(b,null,[d(S,null,null)])}),{getPrefixCls:R}=k(),B=R("layout"),P=()=>{const{renderLayout:e}=O();return e()},q=V({name:"Layout",setup(){return()=>d("section",{class:[B,"w-[100%] h-[100%] relative"]},[P()])}});export{q as default};
